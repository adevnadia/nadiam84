<section id="content" role="main">

    <!-- AUI Sidebar -->
    <div class="aui-sidebar">
        <div class="aui-sidebar-wrapper">
            <div class="aui-sidebar-body">


                <!-- AUI Navigation -->
                <nav class="aui-navgroup aui-navgroup-vertical">
                    <div class="aui-navgroup-inner">

                        <!-- A Sidebar group will collapse into a single trigger icon when sidebar is collapsed -->
                        <!-- The 'actions' sidebar group type will be styled differently from normal groups when sidebar is collapsed -->
                        <div class="aui-sidebar-group aui-sidebar-group-actions">

                            <!-- the AUI Nav heading will be used as the tooltip text -->
                            <div class="aui-nav-heading" title="Actions">
                                <strong>Actions</strong>
                            </div>

                            <!-- If a sidebar group does not have a nav heading, then the aui-nav's title attribute will be used
                                 for the tooltip for the group -->
                            <ul class="aui-nav" title="Page actions">
                                <li>
                                    <a class="aui-nav-item" href="#" title="Edit">Edit</a>
                                </li>
                                <li>
                                    <a class="aui-nav-item" href="#" title="View">View</a>
                                </li>
                                <li>
                                    <a class="aui-nav-item" href="#" title="Share">Share</a>
                                </li>
                            </ul>
                        </div>

                        <!-- A "Tier One" Sidebar group will display all of its nav items, but all nav items MUST have an AUI Icon
                             which will be used when the sidebar is collapsed -->
                        <div class="aui-sidebar-group aui-sidebar-group-tier-one">

                            <!-- in a "Tier One" Sidebar group, AUI Nav heading is ignored, and each nav item's label will be used
                                 as the tooltip text instead -->
                            <div class="aui-nav-heading" title="Stuff">
                                <strong>Team members</strong>

                            </div>

                            <div class="aui-c-addedpeople">
                                <ul>
                                  <li ng-repeat="mate in model.savedTeam track by $index" ng-show="!mate.pending">
                                      <span class="aui-avatar aui-avatar-project aui-avatar-small animated zoomIn" ng-click="toggleMate(mate)">
                                            <span class="aui-avatar-inner">
                                                <img ng-src="{{mate.photo}}">
                                            </span>
                                        </span>
                                  </li>
                                  <li>
                                      <span class="aui-c-addbutton" ng-click="openPopup()">
                                        <i class="fa fa-plus-circle"></i>
                                    </span>
                                  </li>
                                </ul>
                            </div>

                            <div class="aui-nav-heading" title="Stuff">
                                <strong>Pending invites</strong>
                            </div>

                            <div class="aui-c-addedpeople">
                                <ul>
                                    <li ng-repeat="mate in model.savedTeam track by $index" ng-show="mate.pending">
                                        <span class="aui-avatar aui-avatar-project aui-avatar-small animated zoomIn pending" ng-click="toggleMate(mate)">
                                            <span class="aui-avatar-inner">
                                                <img ng-src="{{mate.photo}}">
                                            </span>
                                        </span>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </nav>
            </div>


        </div>
    </div><!-- end AUI Sidebar -->

    <div class="aui-page-panel">
        <div class="aui-page-panel-inner">
            <section class="aui-page-panel-content">
                <!-- Page content goes here -->
            </section>
        </div>
    </div>

    <!-- popup -->
    <div class="aui-c-popup" ng-show="ui.openPopup">
        <div class="shadow" ng-click="closePopup()"></div>
        <div class="body  animated slideInLeft">
            <div class="close-but" ng-click="closePopup()"></div>

            <div class="aui-c-head">
                <h2 class="title">Build your team</h2>
                <div class="aui-c-slider" ng-attr-style="{{model.team.length > 6 ? 'overflow:auto;': ''}}">
                    <ul ng-attr-style="width: {{62*(model.team.length + 1) + 'px'}};">
                        <li>
                            <span class="aui-avatar aui-avatar-project aui-avatar-large animated zoomIn">
                                <span class="aui-avatar-inner">
                                    <img ng-src="static/images/kevin.jpg">
                                </span>

                            </span>
                        </li>
                        <li ng-repeat="mate in model.team track by $index" >
                            <span class="aui-avatar aui-avatar-project aui-avatar-large  animated zoomInAui"
                                ng-class="{'pending' : mate.pending}"
                                ng-click="toggleMate(mate)">
                                <span class="aui-avatar-inner">
                                    <img ng-src="{{mate.photo}}">
                                </span>

                            </span>
                            <span class="aui-avatar-chosen animated zoomIn zoomInAui" ng-show="mate.justAdded"></span>
                        </li>
                    </ul>
                </div>

                <div class="aui-c-search">
                    <input class="text" type="text" id="text-input" name="text-input" placeholder="Invite some team members..."  ng-model="ui.searchTeamMate">
                </div>
            </div>

            <div class="aui-c-search-res">
                <ul>
                    <li ng-repeat="mate in model.people  | filter:ui.searchTeamMate | limitTo:40 track by $index" ng-class="{'pending' : mate.pending}"
                        ng-if="!(mate.isChosen && !mate.justAdded && !mate.pending)">
                        <span class="aui-avatar aui-avatar-project aui-avatar-large" ng-click="toggleMate(mate)">
                            <span class="aui-avatar-inner">
                                <img ng-src="{{mate.photo}}">
                            </span>
                        </span>

                        <span class="aui-i-resico" ng-class="{'chosen' : mate.isChosen}" ng-click="toggleMate(mate)" ng-show="!mate.pending"
                        ></span>
                        <span class="aui-i-pending" ng-show="mate.pending"><h4>Invite sent</h4> <p ng-click="chooseMate(mate.id)">Resend</p></span>
                        <h3 ng-if="!mate.email">{{mate.name}}</h3>
                        <p ng-if="!mate.email">{{mate.team}}</p>
                        <h3 ng-if="mate.email" class="email">{{mate.email}}</h3>
                    </li>
                </ul>
            </div>

            <button class="aui-button aui-button-primary aui-c-invitebut" ng-click="saveTeamMates()">Send invites</button>
        </div>
    </div>
    <!-- end popup -->
</section>